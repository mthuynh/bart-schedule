(this["webpackJsonpbart-schedule"]=this["webpackJsonpbart-schedule"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),s=a.n(c),o=a(2),i=a.n(o),l=a(3),u=a(1),m=(a(12),function(e){var t=e.stations,a=e.location,n=e.updateLocation;return r.a.createElement("select",{value:a,onChange:n},t.map((function(e){return r.a.createElement("option",{key:e.abbr,value:e.abbr},e.name)})))}),p=function(e){e.cost;var t=e.trips,a=e.stations;return r.a.createElement("div",{className:"trips"},t.map((function(e,t){return r.a.createElement("div",{className:"trip",key:t},r.a.createElement("div",{className:"trip__route"},r.a.createElement("p",{className:"start"},e["@origin"]),r.a.createElement("div",{className:"travel-time"},r.a.createElement("span",{className:"icon"},"\u27a4"),r.a.createElement("p",null,e["@tripTime"]," min")),r.a.createElement("p",{className:"end"},e["@destination"])),e.leg.length>1?r.a.createElement("div",{className:"trip__transfer"},r.a.createElement("p",null,"*Stop at ",a.find((function(t){return t.abbr===e.leg[0]["@destination"]})).name," and transfer to ",e.leg[1]["@trainHeadStation"])):null,r.a.createElement("div",{className:"trip__time"},r.a.createElement("p",{className:"leave"},e["@origTimeMin"]),r.a.createElement("p",{className:"arrive"},e["@destTimeMin"])))})))},b=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}),f=function(e){var t=e.cost;return r.a.createElement("div",{className:"cost"},r.a.createElement("h3",null,"Cost"),r.a.createElement("div",{className:"one-way"},r.a.createElement("p",null,"One-way"),r.a.createElement("p",null,b.format(t))),r.a.createElement("div",{className:"round-trip"},r.a.createElement("p",null,"Round trip"),r.a.createElement("p",null,b.format(2*t))))};var d=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(),o=Object(u.a)(s,2),b=o[0],d=o[1],E=Object(n.useState)(),v=Object(u.a)(E,2),h=v[0],N=v[1],j=Object(n.useState)([]),g=Object(u.a)(j,2),y=g[0],O=g[1],S=Object(n.useState)(),_=Object(u.a)(S,2),w=_[0],x=_[1];return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.bart.gov/api/stn.aspx?cmd=stns&key=MW9S-E7SL-26DU-VV8V&json=y");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,d(a.root.stations.station[0].abbr),N(a.root.stations.station[1].abbr),c(a.root.stations.station);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.bart.gov/api/sched.aspx?cmd=arrive&orig=".concat(b,"&dest=").concat(h,"&date=now&key=MW9S-E7SL-26DU-VV8V&b=0&a=4&l=1&json=y"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),O(a.root.schedule.request.trip),x(a.root.schedule.request.trip[0]["@fare"]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[b,h]),r.a.createElement("div",{className:"bart__container"},r.a.createElement("div",{className:"bart__header"},r.a.createElement("h1",{className:"bart__title"},"b",r.a.createElement("span",{className:"title-a"},"a"),"rt schedule")),r.a.createElement("form",{className:"bart__form",onSubmit:function(e){e.preventDefault(),d(h),N(b)}},r.a.createElement(m,{stations:a,location:b,updateLocation:function(e){d(e.target.value)}}),r.a.createElement(m,{stations:a,location:h,updateLocation:function(e){N(e.target.value)}}),r.a.createElement("button",{type:"submit"},"\u2191\u2193")),r.a.createElement(f,{cost:w}),r.a.createElement(p,{stations:a,trips:y}))};s.a.render(r.a.createElement(d,null),document.getElementById("root"))},6:function(e,t,a){e.exports=a(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.de5e1578.chunk.js.map