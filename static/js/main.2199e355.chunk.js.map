{"version":3,"sources":["components/SelectStation.js","components/Schedule.js","helper.js","components/Cost.js","App.js","index.js"],"names":["SelectStation","stations","location","updateLocation","value","onChange","map","station","key","abbr","name","Schedule","cost","trips","className","trip","index","leg","length","find","formatCurrency","Intl","NumberFormat","style","currency","minimumFractionDigits","Cost","format","App","useState","setStations","start","setStart","end","setEnd","setTrips","setCost","useEffect","a","fetch","response","json","data","root","fetchStations","console","log","schedule","request","onSubmit","e","preventDefault","target","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2199e355.chunk.js","sourcesContent":["import React from 'react'\n\nconst SelectStation = ({stations, location, updateLocation}) => {\n    return (\n        <select value={location} onChange={updateLocation}>\n            {stations.map(station => <option key={station.abbr} value={station.abbr}>{station.name}</option>)}\n        </select>\n    )\n}\n\nexport default SelectStation","import React from 'react'\n\nconst Schedule = ({cost, trips, stations}) => {\n    return (\n        <div className=\"trips\">\n            {trips.map((trip, index) => {\n                return (\n                    <div className=\"trip\" key={index}>\n                        <div className=\"trip__route\">\n                            <p className=\"start\">{trip[\"@origin\"]}</p>\n                            <div className=\"travel-time\">\n                            <span className=\"icon\">&#x27A4;</span>\n                            <p>{trip[\"@tripTime\"]} min</p>\n                            </div>\n                            <p className=\"end\">{trip[\"@destination\"]}</p>\n                        </div>\n                        {trip.leg.length > 1 ? \n                            <div className=\"trip__transfer\">\n                                <p>*Stop at {stations.find(station => station.abbr === trip.leg[0][\"@destination\"]).name} and transfer to {trip.leg[1][\"@trainHeadStation\"]}</p>\n                            </div>\n                            : null \n                        }\n                        <div className=\"trip__time\">\n                            <p className=\"leave\">{trip[\"@origTimeMin\"]}</p>\n                            <p className=\"arrive\">{trip[\"@destTimeMin\"]}</p>\n                        </div>\n                    </div>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default Schedule\n","export const formatCurrency = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2\n  });","import React from 'react'\nimport { formatCurrency } from '../helper'\n\nconst Cost = ({ cost }) => {\n    return (\n        <div className=\"cost\">\n            <h3>Cost</h3>\n            <div className=\"one-way\">\n                <p>One-way</p> \n                <p>{formatCurrency.format(cost)}</p>\n            </div>\n            <div className=\"round-trip\">\n                <p>Round trip</p> \n                <p>{formatCurrency.format(cost * 2)}</p>\n            </div>\n        </div>\n    )\n}\n\nexport default Cost\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport SelectStation from './components/SelectStation';\nimport Schedule from './components/Schedule';\nimport Cost from './components/Cost';\n\nfunction App() {\n  const [stations, setStations] = useState([])\n  const [start, setStart] = useState()\n  const [end, setEnd] = useState()\n  const [trips, setTrips] = useState([])\n  const [cost, setCost] = useState()\n\n  useEffect(() => {\n    const fetchStations = async () => {\n      const response = await fetch('https://api.bart.gov/api/stn.aspx?cmd=stns&key=MW9S-E7SL-26DU-VV8V&json=y')\n      const data = await response.json()\n      setStart(data.root.stations.station[0].abbr)\n      setEnd(data.root.stations.station[1].abbr)\n      setStations(data.root.stations.station)\n    }\n\n    fetchStations()\n  }, [])\n\n  useEffect(() => {\n    const fetchStations = async () => {\n      const response = await fetch(`https://api.bart.gov/api/sched.aspx?cmd=arrive&orig=${start}&dest=${end}&date=now&key=MW9S-E7SL-26DU-VV8V&b=0&a=4&l=1&json=y`)\n      const data = await response.json()\n      console.log(data)\n      setTrips(data.root.schedule.request.trip)\n      setCost(data.root.schedule.request.trip[0][\"@fare\"])\n    }\n\n    fetchStations()\n  }, [start, end])\n\n  function updateStartLocation(e) {\n    setStart(e.target.value)\n  }\n\n  function updateEndLocation(e) {\n    setEnd(e.target.value)\n  }\n\n  function reverseRoute(e) {\n    e.preventDefault();\n\n    setStart(end);\n    setEnd(start);\n  }\n\n  return (\n    <div className=\"bart__container\">\n      <div className=\"bart__header\">\n        <h1 className=\"bart__title\">b<span className=\"title-a\">a</span>rt schedule</h1>\n      </div>\n      \n      <form className=\"bart__form\" onSubmit={reverseRoute}>\n        <SelectStation \n          stations={stations} \n          location={start} \n          updateLocation={updateStartLocation} />\n        <SelectStation \n          stations={stations} \n          location={end} \n          updateLocation={updateEndLocation} />\n        <button type=\"submit\">&#8593;&#8595;</button>\n      </form>\n\n      <Cost cost={cost} />\n      \n      <Schedule\n        stations={stations}\n        trips={trips} \n        />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}